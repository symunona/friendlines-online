<div class="search-results">
    <h2>Search results for "<span data-bind="text: keyword"></span>"
        <span data-bind="if: threadId"> - Thread: 
            <span data-bind="text: threadId">
            </span>
        </span>
    </h2>
    <a data-bind='click: openWordCloud' class="clickable">Open word cloud</a>
    <div class="popup-overflow-wrapper">
        <div data-bind="foreach: messages">
            <div class="message-header">
                <span data-bind="text: fromUserName, 
                    style: {'background-color': $root.colors[fromUserId] || '#eee'},
                    css: {clickable: !$parent.isMainUser(fromUserId)},
                    click: $parent.openUser.bind($root, fromUserId)
                    "></span> &rarr;
                <span data-bind="text: toUserName,
                    style: {'background-color': $root.colors[toUserId] || '#eee'},
                    css: {clickable: !$parent.isMainUser(toUserId)},
                    click: $parent.openUser.bind($root, toUserId)"></span> @
                <span data-bind="text: sendDate"></span>
            </div>
            <div class="message" data-bind="highlight: {
                    text: message, 
                    highlight: $root.keyword }"></div>
            <div data-bind="if: !$parent.threadId, click: $root.openThread.bind($root, $data)" class="clickable">
                Open thread: <span data-bind="text: threadId"></span>
            </div>
        </div>
    </div>
</div>